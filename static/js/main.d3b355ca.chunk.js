(this["webpackJsonpscroll-animation"]=this["webpackJsonpscroll-animation"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),i=n.n(r),o=n(9),a=n.n(o),s=(n(21),n(10)),u=n(11),l=(n(22),n(15)),d=n(7),h=function(e){var t=Object(r.useRef)([]),n=Object(r.useRef)(null),i=Object(r.useRef)(new Image),o=Object(r.useRef)(0),a=Object(d.b)((function(){return{scrollTop:document.documentElement.scrollTop}})),s=Object(l.a)(a,2),u=s[0],h=s[1],m=u.scrollTop.interpolate((function(e){var c=document.documentElement.scrollHeight-window.innerHeight,r=e/c*-.2+.45,i=e/(.25*c),a=Math.max(1,Math.min(139,Math.floor(140*i)));return isNaN(a)||(o.current=requestAnimationFrame((function(){f(n.current,t.current[a])}))),"matrix(".concat(r,",0,0,").concat(r,",0,0)")})),f=function(e,t){var n=t.width/t.height,c=e.width,r=c/n;r>e.height&&(c=(r=e.height)*n);var i=c<e.width?(e.width-c)/2:0,o=r<e.height?(e.height-r)/2:0;e.getContext("2d").drawImage(t,i,o,c,r)},g=function(){var e=document.documentElement.scrollTop;h({scrollTop:e})};return Object(r.useEffect)((function(){for(var e=0;e<=140;e++){var c=new Image;c.src="https://www.apple.com/105/media/us/airpods-pro/2019/1299e2f5_9206_4470_b28e_08307a42f19b/anim/sequence/large/01-hero-lightpass/".concat(e.toString().padStart(4,"0"),".jpg"),t.current[e]=c}var r=n.current;if(r){r.width=1458,r.height=820;r.getContext("2d");i.current=t.current[0],i.current.onload=function(){f(r,i.current)},window.addEventListener("scroll",g)}return function(){window.removeEventListener("scroll",g),window.cancelAnimationFrame(o.current)}}),[]),Object(c.jsx)(d.a.canvas,{id:"hero-lightpass",width:1458,height:820,ref:n,style:{width:1458,height:820,transform:m}})};function m(){var e=Object(s.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  width: 100%;\n"]);return m=function(){return e},e}var f=u.a.div(m());var g=function(){var e=function(){document.documentElement.scrollTop,document.documentElement.scrollHeight,window.innerHeight};return Object(r.useEffect)((function(){return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),Object(c.jsx)("div",{className:"scroll-sequence",children:Object(c.jsx)("div",{className:"sequence-container",children:Object(c.jsx)("div",{className:"canvas-sequence",children:Object(c.jsx)(f,{children:Object(c.jsx)("div",{style:{width:"1458px",height:820,zIndex:11,opacity:1},children:Object(c.jsx)(h,{})})})})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),w()}},[[25,1,2]]]);
//# sourceMappingURL=main.d3b355ca.chunk.js.map